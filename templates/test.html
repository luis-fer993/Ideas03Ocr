{% extends "base.html"%}

{% block mainContent %}

{%if alerts != null %}
<script>
    Swal.fire(
  'Attention',
  '{{alerts}}'
)
</script>
{% endif %}

{% if result == ''%}

<h1>Verificacion de Pruebas</h1>
<form action="" method="post" class="form" style="width: 50vw; margin:0 auto ; padding:2rem ">
    <table  class="table table-striped table-dark" border="2px">
        <tr>
            <td>
                ID Estudio
            </td>
            <td>
                <input type="number" name="idEstudio" id="idEstudio"  required>
            </td>
        </tr>
        <tr>
            <td>
                Tipo Estudio
            </td>
            <td>
                <select name="tipoEstudio" id="IceOpt" required>
                    <option value="">Elegir opcion</option>
                    <option value="ice">Ice</option>
                    <option value="otro">otro</option>
                </select>
            </td>
        </tr>
        <tr class="hidden IceContDate" style="display: none;">
            <td rowspan="2">
                Fechas de estudio
            </td>
            <td>
                <label for="inicioIce">Fecha Inicio</label>
                <input type="date" name="inicioIce" class='FechasIce'>
            </td>
        </tr>
        <tr class="hidden IceContDate" style="display: none;">
            <td>
                <label for="finIce">Fecha Fin</label>
                <input type="date" name="finIce" class='FechasIce'>
            </td>
        </tr>
        <tr>
            <td>Cantidad Registros</td>
            <td><input type="number" name="nRecords" id="" value="1000" required></td>
        </tr>
    </table>
    <button  class="btn btn-primary">Enviar </button>
</form>

{%endif%}

{% if result != ''%}
<div>
    <h1>Resultado </h1>

    <!-- <pre>{{result}}</pre>  -->
    <table border="1" id="myTable" class="display table">
        <thead>
            <tr>
                {% for key in result[0].keys() %}
                    <th>{{ key }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for row in result %}
                <tr>
                    {% for value in row.values() %}
                        <td>{{ value }}</td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <br>

</div>
{%endif%}

{% block scripts %}
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<!-- <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script> -->

<script src="{{ url_for('static', filename='js/main.js') }}"></script>

{% endblock %}

{% endblock%}
